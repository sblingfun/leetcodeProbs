//Original 2 pass solution
//Can be optimized to a single pass by only looking at relative difference in score

class Solution {
    public int bestClosingTime(String customers) {
        int retVal = 0;

        int yCnt = 0;
        int nCnt = 0;


        for (int i = 0; i < customers.length(); i++) {
            if (customers.charAt(i) == 'Y') {
                yCnt++;
            }
            else {
                nCnt++;
            }
        }

        int yBefore = 0;
        int nAfter = nCnt;
        int penalty = yCnt - yBefore + nCnt - nAfter;
        int prevMin = penalty;
        for (int i = 0; i < customers.length(); i++) {
            //System.out.println("i: " + i + " penalty: " + penalty);
            penalty = yCnt - yBefore + nCnt - nAfter;
            if (penalty < prevMin) {
                retVal = i;
                prevMin = penalty;
            }
            if (customers.charAt(i) == 'Y') {
                yBefore++;
            }
            else {
                nAfter--;
            }
        }
        
        penalty = yCnt - yBefore + nCnt - nAfter;
        if (penalty < prevMin) {
            retVal = customers.length();
        }

        return retVal;
    }
}
